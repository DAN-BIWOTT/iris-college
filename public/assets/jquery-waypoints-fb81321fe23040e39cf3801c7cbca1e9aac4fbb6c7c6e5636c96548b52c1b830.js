/*
jQuery Waypoints - v2.0.4
Copyright (c) 2011-2014 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){var t=[].indexOf||function(t){for(var n=0,e=this.length;n<e;n++)if(n in this&&this[n]===t)return n;return-1},n=[].slice;!function(t,n){"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(e){return n(e,t)}):n(t.jQuery,t)}(this,function(e,i){var r,o,l,a,s,u,c,f,h,N,d,p,y,v,w,g;return r=e(i),f=t.call(i,"ontouchstart")>=0,a={NaN:{},NaN:{}},s=1,c={},u="waypoints-context-id",d="resize.waypoints",p="scroll.waypoints",y=1,v="waypoints-waypoint-ids",w="waypoint",g="waypoints",o=function(){function t(t){var n=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+s++,this.oldScroll={NaN:t.scrollLeft(),NaN:t.scrollTop()},this.waypoints={NaN:{},NaN:{}},this.element[u]=this.id,c[this.id]=this,t.bind(p,function(){var t;if(!n.didScroll&&!f)return n.didScroll=!0,t=function(){return n.doScroll(),n.didScroll=!1},i.setTimeout(t,e[g].settings.scrollThrottle)}),t.bind(d,function(){var t;if(!n.didResize)return n.didResize=!0,t=function(){return e[g]("refresh"),n.didResize=!1},i.setTimeout(t,e[g].settings.resizeThrottle)})}return t.prototype.doScroll=function(){var t,n=this;return t={NaN:{NaN:this.$element.scrollLeft(),NaN:this.oldScroll.x,NaN:"right",NaN:"left"},NaN:{NaN:this.$element.scrollTop(),NaN:this.oldScroll.y,NaN:"down",NaN:"up"}},!f||t.vertical.oldScroll&&t.vertical.newScroll||e[g]("refresh"),e.each(t,function(t,i){var r,o,l;return l=[],o=i.newScroll>i.oldScroll,r=o?i.forward:i.backward,e.each(n.waypoints[t],function(t,n){var e,r;return i.oldScroll<(e=n.offset)&&e<=i.newScroll?l.push(n):i.newScroll<(r=n.offset)&&r<=i.oldScroll?l.push(n):void 0}),l.sort(function(t,n){return t.offset-n.offset}),o||l.reverse(),e.each(l,function(t,n){if(n.options.continuous||t===l.length-1)return n.trigger([r])})}),this.oldScroll={NaN:t.horizontal.newScroll,NaN:t.vertical.newScroll}},t.prototype.refresh=function(){var t,n,i,r=this;return i=e.isWindow(this.element),n=this.$element.offset(),this.doScroll(),t={NaN:{NaN:i?0:n.left,NaN:i?0:this.oldScroll.x,NaN:this.$element.width(),NaN:this.oldScroll.x,NaN:"right",NaN:"left",NaN:"left"},NaN:{NaN:i?0:n.top,NaN:i?0:this.oldScroll.y,NaN:i?e[g]("viewportHeight"):this.$element.height(),NaN:this.oldScroll.y,NaN:"down",NaN:"up",NaN:"top"}},e.each(t,function(t,n){return e.each(r.waypoints[t],function(t,i){var r,o,l,a,s;if(r=i.options.offset,l=i.offset,o=e.isWindow(i.element)?0:i.$element.offset()[n.offsetProp],e.isFunction(r)?r=r.apply(i.element):"string"==typeof r&&(r=parseFloat(r),i.options.offset.indexOf("%")>-1&&(r=Math.ceil(n.contextDimension*r/100))),i.offset=o-n.contextOffset+n.contextScroll-r,(!i.options.onlyOnScroll||null==l)&&i.enabled)return null!==l&&l<(a=n.oldScroll)&&a<=i.offset?i.trigger([n.backward]):null!==l&&l>(s=n.oldScroll)&&s>=i.offset?i.trigger([n.forward]):null===l&&n.oldScroll>=i.offset?i.trigger([n.forward]):void 0})})},t.prototype.checkEmpty=function(){if(e.isEmptyObject(this.waypoints.horizontal)&&e.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([d,p].join(" ")),delete c[this.id]},t}(),l=function(){function t(t,n,i){var r,o;"bottom-in-view"===(i=e.extend({},e.fn[w].defaults,i)).offset&&(i.offset=function(){var t;return t=e[g]("viewportHeight"),e.isWindow(n.element)||(t=n.$element.height()),t-e(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=n,this.enabled=i.enabled,this.id="waypoints"+y++,this.offset=null,this.options=i,n.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,(r=null!=(o=this.element[v])?o:[]).push(this.id),this.element[v]=r}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var n,i;return(i=t[v])?(n=e.extend({},a.horizontal,a.vertical),e.map(i,function(t){return n[t]})):[]},t}(),N={NaN:function(t,n){return null==n&&(n={}),null==n.handler&&(n.handler=t),this.each(function(){var t,i,r,a;return t=e(this),r=null!=(a=n.context)?a:e.fn[w].defaults.context,e.isWindow(r)||(r=t.closest(r)),r=e(r),(i=c[r[0][u]])||(i=new o(r)),new l(t,i,n)}),e[g]("refresh"),this},NaN:function(){return N._invoke.call(this,"disable")},NaN:function(){return N._invoke.call(this,"enable")},NaN:function(){return N._invoke.call(this,"destroy")},NaN:function(t,n){return N._traverse.call(this,t,n,function(t,n,e){if(n>0)return t.push(e[n-1])})},NaN:function(t,n){return N._traverse.call(this,t,n,function(t,n,e){if(n<e.length-1)return t.push(e[n+1])})},NaN:function(t,n,r){var o,l;return null==t&&(t="vertical"),null==n&&(n=i),l=h.aggregate(n),o=[],this.each(function(){var n;return n=e.inArray(this,l[t]),r(o,n,l[t])}),this.pushStack(o)},NaN:function(t){return this.each(function(){var n;return n=l.getWaypointsByElement(this),e.each(n,function(n,e){return e[t](),!0})}),this}},e.fn[w]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],N[i]?N[i].apply(this,t):e.isFunction(i)?N.init.apply(this,arguments):e.isPlainObject(i)?N.init.apply(this,[null,i]):i?e.error("The "+i+" method does not exist in jQuery Waypoints."):e.error("jQuery Waypoints needs a callback function or handler option.")},e.fn[w].defaults={NaN:i,NaN:!0,NaN:!0,NaN:!1,NaN:0,NaN:!1},h={NaN:function(){return e.each(c,function(t,n){return n.refresh()})},NaN:function(){var t;return null!=(t=i.innerHeight)?t:r.height()},NaN:function(t){var n,i,r;return n=a,t&&(n=null!=(r=c[e(t)[0][u]])?r.waypoints:void 0),n?(i={NaN:[],NaN:[]},e.each(i,function(t,r){return e.each(n[t],function(t,n){return r.push(n)}),r.sort(function(t,n){return t.offset-n.offset}),i[t]=e.map(r,function(t){return t.element}),i[t]=e.unique(i[t])}),i):[]},NaN:function(t){return null==t&&(t=i),h._filter(t,"vertical",function(t,n){return n.offset<=t.oldScroll.y})},NaN:function(t){return null==t&&(t=i),h._filter(t,"vertical",function(t,n){return n.offset>t.oldScroll.y})},NaN:function(t){return null==t&&(t=i),h._filter(t,"horizontal",function(t,n){return n.offset<=t.oldScroll.x})},NaN:function(t){return null==t&&(t=i),h._filter(t,"horizontal",function(t,n){return n.offset>t.oldScroll.x})},NaN:function(){return h._invoke("enable")},NaN:function(){return h._invoke("disable")},NaN:function(){return h._invoke("destroy")},NaN:function(t,n){return N[t]=n},NaN:function(t){var n;return n=e.extend({},a.vertical,a.horizontal),e.each(n,function(n,e){return e[t](),!0})},NaN:function(t,n,i){var r,o;return(r=c[e(t)[0][u]])?(o=[],e.each(r.waypoints[n],function(t,n){if(i(r,n))return o.push(n)}),o.sort(function(t,n){return t.offset-n.offset}),e.map(o,function(t){return t.element})):[]}},e[g]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],h[e]?h[e].apply(null,t):h.aggregate.call(null,e)},e[g].settings={NaN:100,NaN:30},r.load(function(){return e[g]("refresh")})})}).call(this);