!function(n){var t=n(window),o=t.height();t.resize(function(){o=t.height()}),n.fn.parallax=function(i,e,r){function u(){var r=t.scrollTop();l.each(function(){var t=n(this),u=t.offset().top;u+h(t)<r||u>r+o||l.css("backgroundPosition",i+" "+Math.round((u-r)*e)+"px")})}var h,l=n(this);l.each(function(){l.offset().top}),h=r?function(n){return n.outerHeight(!0)}:function(n){return n.height()},(arguments.length<1||null===i)&&(i="50%"),(arguments.length<2||null===e)&&(e=.1),(arguments.length<3||null===r)&&(r=!0),t.bind("scroll",u).resize(u),u()}}(jQuery);